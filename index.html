<html>

<head>
<title>rebuild 2.22</title>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">

<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<link rel="icon" href="/favicon.ico" type="image/x-icon">

<script src="scriptloader.js"></script>
<script src="scriptloader_glitchdungeon.js"></script>
<!--fallback for file managing and other server side js when running nodejs server instead of nw.js-->
<script src="http://localhost:8080/socket.io/socket.io.js"></script>
<script src="javascript/main.js"></script>

</head>


<body>
	<div id="level-architect-menu"></div>
	<canvas id="text-canvas" style="border:none;position:absolute;z-index:1;pointer-events:none;" width="640" height="480"></canvas>
    <canvas id="enchanted-canvas" style="border:none;position:absolute;z-index:0;" width="640" height="480"></canvas>
	<canvas id="background-canvas" style="border:none;position:absolute;z-index:-1;pointer-events:none;" width="640" height="480"></canvas>
	
	<div id="console">
		<div id="console_messages"></div>
		<div id="console_input_container">
			<span id="console_input_prompt">&nbsp;&nbsp;&gt;&nbsp;&nbsp;</span>
			<textarea id="console_input">and i will</textarea>
		</div>
	</div>
	
	<script>
		var messages = document.getElementById("console_messages");
		console.log = function(x, error){
			if (error === undefined) error = false;
			var message = document.createElement("div");
			message.className = "console_message";
			message.innerHTML = x;
			
			messages.appendChild(message);
		}
	
		var input = document.getElementById("console_input");
		input.innerHTML = "";
		input.onkeydown = function(e){
			if (e.keyCode === 13 && !e.shiftKey){ //enter
				var text = this.value;
				try{
					console.log(eval.call(window, text));
				}catch(e){
					console.log(e, true);
				}
				this.value = "";
				e.preventDefault();
			}
		}
	</script>
	<script>
		window.onload = function(){
			glitchdungeon_loadScripts(main);
		}
	</script>
</body>
</html>
